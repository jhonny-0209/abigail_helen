<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Tarjeta San Valent√≠n</title>

<style>

/* =========================
   ESTILOS GENERALES
========================= */
body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#fce7f3;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.card {
  background:#fff0f6;
  border:4px dashed #f472b6;
  border-radius:30px;
  padding:20px;
  max-width:400px;
  width:100%;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}

h1,h2 {
  text-align:center;
  color:#db2777;
}

/* =========================
   TIEMPO JUNTOS
========================= */
.tiempo {
  margin-top:20px;
  border:2px dashed #f472b6;
  border-radius:20px;
  padding:15px;
  background:white;
  text-align:center;
}

.circle-img {
  width:180px;
  height:180px;
  border-radius:50%;
  overflow:hidden;
  margin:0 auto;
  border:4px solid white;
}

.circle-img img {
  width:100%;
  height:100%;
  object-fit:cover;
}

/* =========================
   CUADROS DE TIEMPO
========================= */
.grid {
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-top:15px;
}

.time-box {
  background:#fff;
  padding:12px 8px;
  border-radius:30px;
  text-align:center;
  border:1px solid #fbcfe8;
  box-shadow:0 6px 12px rgba(219,39,119,0.25);
}

.time-value {
  font-size:22px;
  color:#db2777;
  font-weight:bold;
}

/* =========================
   PLAYER MUSICA
========================= */
.player {
  margin-top:20px;
  border:2px dashed #f472b6;
  border-radius:20px;
  padding:20px;
  background:white;
  text-align:center;
}

.controls button {
  background:#fff;
  border-radius:50%;
  border:2px solid #fbcfe8;
  padding:12px;
  font-size:18px;
  cursor:pointer;
  margin:10px;
}

#progress {
  width:100%;
  accent-color:#f472b6;
}

/* =========================
   CARRUSEL 3D
========================= */
.carousel3d {
  margin-top:20px;
  border:2px dashed #f472b6;
  border-radius:20px;
  width: 390px;
  height: 300px;
  margin:auto;
  perspective:1000px;
  overflow:hidden;
  touch-action:none;
  cursor:grab;
}

.carousel-track {
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
}

.carousel-track img {
  position:absolute;
  width:200px;
  height:200px;
  left:40px;
  top:50px;
  object-fit:cover;
  border-radius:15px;
  box-shadow:0 5px 15px rgba(0,0,0,.3);
  pointer-events:none;
}

/* =========================
   MENSAJE
========================= */
.message {
  margin-top:20px;
  border:2px dashed #f472b6;
  padding:15px;
  border-radius:20px;
  background:white;
  color:#9d174d;
  font-style:italic;
}

/* =========================
   ANIMACIONES
========================= */
.spin {
  animation: spin 8s linear infinite;
}

@keyframes spin {
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

.palpitar {
  animation: palpitar 1.2s ease-in-out infinite;
}

@keyframes palpitar {
  0%{transform:scale(1)}
  50%{transform:scale(1.15)}
  100%{transform:scale(1)}
}

</style>
</head>

<body>

<div class="card">

<h1>FELIZ SAN VALENTIN</h1>

<!-- =========================
     TIEMPO JUNTOS
========================= -->
<div class="tiempo">
<h1>Nuestro tiempo juntos</h1>

<div class="circle-img">
<img src="musica/FECHA.jpeg" id="albumImg" class="palpitar">
</div>

<div class="grid">
  <div class="time-box"><span class="time-value" id="years">0</span>A√±os</div>
  <div class="time-box"><span class="time-value" id="months">0</span>Meses</div>
  <div class="time-box"><span class="time-value" id="days">0</span>D√≠as</div>
  <div class="time-box"><span class="time-value" id="hours">0</span>Horas</div>
  <div class="time-box"><span class="time-value" id="minutes">0</span>Min</div>
  <div class="time-box"><span class="time-value" id="seconds">0</span>Seg</div>
</div>
</div>

<!-- =========================
     PLAYER
========================= -->
<div class="player">
<h2>Nuestras canciones</h2>

<div class="circle-img">
<img id="songImg" src="" >
</div>

<h3 id="songTitle"></h3>
<p id="songArtist"></p>

<input type="range" id="progress" value="0" min="0" max="100">

<div class="controls">
<button onclick="prevSong()">‚èÆ</button>
<button onclick="togglePlay()">‚ñ∂</button>
<button onclick="nextSong()">‚è≠</button>
</div>

<audio id="audio"></audio>
</div>

<!-- =========================
     CARRUSEL
========================= -->
<h2>Nuestros Recuerdos</h2>
<div class="carousel3d" id="carousel3d">
<div class="carousel-track" id="carouselTrack">
<img src="musica/16 de julio.jpeg">
<img src="musica/charmander.jpeg">
<img src="musica/cumplea√±os.jpeg">
<img src="musica/promocion.jpeg">
<img src="musica/vino.jpeg">
</div>
</div>

<!-- =========================
     MENSAJE
========================= -->
<div class="message">
<h1>MI BEBE</h1> En este San Valent√≠n quiero recordarte lo especial que eres para m√≠.<br> 
Aunque muchas veces te gano en fechas üòÖüòÖ se que algunos momentos no te puedo dar algo unico y grande 
pero si trato de darte algo especial se que lo hago a mano y es peque√±ito pero lo hago con mucho amor. 
POrque cada momento contigo es un regalo y no sabes lo contento todo lo que vivimos.<br><br> Te amo m√°s 
de lo que las palabras pueden expresar.<br><br> En mi corazon siempre estas y de ahi tu me algras mis 
dias <BR></BR><H2>TE AMO MUCHO MI BEBE </H2>
</div>

</div>

<script>

/* =========================
   CONTADOR DE TIEMPO
========================= */
const startDate = new Date("2022-04-09T00:00:00");

const yearsEl=document.getElementById("years");
const monthsEl=document.getElementById("months");
const daysEl=document.getElementById("days");
const hoursEl=document.getElementById("hours");
const minutesEl=document.getElementById("minutes");
const secondsEl=document.getElementById("seconds");

setInterval(()=>{
const now=new Date();
const diff=now-startDate;

yearsEl.textContent=Math.floor(diff/(1000*60*60*24*365));
monthsEl.textContent=Math.floor((diff%(1000*60*60*24*365))/(1000*60*60*24*30));
daysEl.textContent=Math.floor((diff%(1000*60*60*24*30))/(1000*60*60*24));
hoursEl.textContent=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
minutesEl.textContent=Math.floor((diff%(1000*60*60))/(1000*60));
secondsEl.textContent=Math.floor((diff%(1000*60))/1000);
},1000);

/* =========================
   PLAYER MUSICA
========================= */
const songs=[
{
title:"Sou Favela",
artist:"MC Bruninho",
src:"musica/Sou_Favela.mp3",
img:"https://is1-ssl.mzstatic.com/image/thumb/Music115/v4/46/91/da/4691daf9-73b6-5697-2440-4f97d34ca65b/00192562931912_Cover.jpg/600x600bf-60.jpg"
},
{
title:"Favela",
artist:"Grupo Uno Mas",
src:"musica/Sou_Favela_unomas.mp3",
img:"https://is1-ssl.mzstatic.com/image/thumb/Music221/v4/f4/ab/fc/f4abfcf8-055d-dc46-69a0-844812f9bfcf/0.jpg/600x600cc.webp"
},
{ title: "Soy Favela", artist: "LA T Y LA M", src: "musica/Sou_Favela_latylam.mp3", img: "https://i.ytimg.com/vi/4BXIuQWhrZ8/maxresdefault.jpg" }
];

let songIndex=0;
const audio=document.getElementById("audio");
const songImg=document.getElementById("songImg");
const songTitle=document.getElementById("songTitle");
const songArtist=document.getElementById("songArtist");
const progress=document.getElementById("progress");

function loadSong(i){
audio.src=songs[i].src;
songImg.src=songs[i].img;
songTitle.textContent=songs[i].title;
songArtist.textContent=songs[i].artist;
}
loadSong(songIndex);

function togglePlay(){
if(audio.paused){
audio.play();
songImg.classList.add("spin");
}else{
audio.pause();
songImg.classList.remove("spin");
}
}

function nextSong(){
songIndex=(songIndex+1)%songs.length;
loadSong(songIndex);
audio.play();
songImg.classList.add("spin");
}

function prevSong(){
songIndex=(songIndex-1+songs.length)%songs.length;
loadSong(songIndex);
audio.play();
songImg.classList.add("spin");
}

audio.addEventListener("timeupdate",()=>{
progress.value=(audio.currentTime/audio.duration)*100 || 0;
});

progress.addEventListener("input",()=>{
audio.currentTime=(progress.value/100)*audio.duration;
});

/* =========================
   CARRUSEL 3D
========================= */
const track=document.getElementById("carouselTrack");
const carousel=document.getElementById("carousel3d");
const images=document.querySelectorAll(".carousel-track img");

let angle=0;
let isDragging=false;
let startX=0;
const step=360/images.length;

// colocar imagenes
images.forEach((img,i)=>{
img.style.transform=`rotateY(${i*step}deg) translateZ(260px)`;
});

// rotacion autom√°tica
function autoRotate(){
if(!isDragging){
angle+=0.2;
track.style.transform=`rotateY(${angle}deg)`;
}
requestAnimationFrame(autoRotate);
}
autoRotate();

// drag mouse/touch
carousel.addEventListener("mousedown",e=>{
isDragging=true;
startX=e.clientX;
});

carousel.addEventListener("mousemove",e=>{
if(!isDragging)return;
let delta=e.clientX-startX;
angle+=delta*0.3;
track.style.transform=`rotateY(${angle}deg)`;
startX=e.clientX;
});

carousel.addEventListener("mouseup",()=>isDragging=false);
carousel.addEventListener("mouseleave",()=>isDragging=false);

// touch
carousel.addEventListener("touchstart",e=>{
isDragging=true;
startX=e.touches[0].clientX;
});

carousel.addEventListener("touchmove",e=>{
if(!isDragging)return;
let delta=e.touches[0].clientX-startX;
angle+=delta*0.3;
track.style.transform=`rotateY(${angle}deg)`;
startX=e.touches[0].clientX;
});

carousel.addEventListener("touchend",()=>isDragging=false);

</script>

</body>
</html>
